<div class="page" data-name="partner" class="theme-dark">
  <div class="page-content theme-dark">
    <!-- Menu Section -->
    <div class="card">
      <div style="text-align: center;" class="row no-gap bg-dark-gray-young">
        <div class="col col-border  text-bold"><a class="text-add-colour-white" href="/produksi_pusat">SPK</a></div>
        <div onclick="chooseDataProduksiCabangRedirect('https://tasindo-sale-webservice-makasar.digiseminar.id/api');"
          class="col col-border text-bold jakartaFilterCabangBtn"><a class="text-add-colour-white"
            href="/cabang_pusat">IND-BAR</a></div>
        <div class="col col-border text-bold bg-dark-gray-medium"><a class="text-add-colour-white"
            href="/partner">PARTNER</a></div>
      </div>
      <div style="text-align: center;" class="row no-gap bg-dark-gray-young">
        <div class="col col-border bg-dark-gray-medium  text-bold"><a class="text-add-colour-white"
            href="/partner">Laporan</a></div>
        <div class="col col-border text-bold"><a class="text-add-colour-gray" href="/purchasing">Partner</a></div>
      </div>
    </div>

    <!-- Main Section -->
    <div class="card">
      <!-- Table Header -->
      <div class="col-100 bg-dark-gray-young" style="padding:10px; font-size:18px; font-weight:bold;">
        <div class="display-flex justify-content-space-between align-items-center"
          style="margin-bottom:4px; padding: 4px 0px;">
          <div class="display-flex justify-content-start align-items-center"
            style="font-size:20px; font-weight:bold; color:#1C1C1D;">
            <span style="border-right: 1px solid #1C1C1D; padding-right: 16px; margin-right: 16px;">Data</span>
            <span id="jumlah_data_laporan">0</span>
          </div>
          <div class="display-flex justify-content-space-between align-items-center" style="gap:4px;">
            <i class="f7-icons" style="font-size:30px; color:#fff;" onclick="bukaHistoryLaporan()">clock_fill</i>
            <i class="f7-icons" style="font-size:30px; color:#009100;"
              onclick="refreshLaporanData()">arrow_2_circlepath_circle_fill</i>
          </div>
        </div>
        <!-- Search Boxes -->
        <div class="display-flex flex-direction-row justify-content-space-between align-items-center">
          <input onkeyup="doSearchPartnerLaporan()" type="text"
            style="font-size:14px; margin-right: 4px; border-radius:3px; padding:6px; width:100%;  color:#1C1C1D; background-color:lightgray;"
            id="partner_laporan_filter_search" name="partner_laporan_filter_search" placeholder="Cari Partner">
          <input onkeyup="doSearchCustomerLaporan()" type="text"
            style="font-size:14px; border-radius:3px; padding:6px; width:100%;  color:#1C1C1D; background-color:lightgray;"
            id="partner_customer_filter_search" name="partner_customer_filter_search" placeholder="Cari Customer">
        </div>
      </div>
      <!-- Table Content -->
      <div class="col-100" style="overflow-x: auto;">
        <table id="tabel_laporan_partner" cellspacing="1" cellpadding="1" width="100%">
          <thead class="bg-dark-gray-medium text-align-center">
            <tr>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;"
                align="center">No</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Spk</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Partner</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Customer</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Item</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Jumlah</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Tanggal</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Deadline</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Selesai</th>
              <th class="label-cell"
                style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                Aksi</th>
            </tr>
          </thead>
          <tbody class="text-align-center" id="data_laporan_partner">
          </tbody>
        </table>
      </div>
      <!-- Pagination Buttons -->
      <div id="tombol_paginasi" class="text-align-center" style="font-size:16px; width: 100%; display: block;">
      </div>
    </div>

    <!-- Popup Item Detail Gambar -->
    <div class="popup item-detail-gambar">
      <div class="view">
        <div class="page">
          <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner bg-dark-gray-medium">
              <div class="title">Foto</div>
              <div class="right">
                <!-- Link to close popup -->
                <p id="backbutton" class="text-add-colour-white link popup-close"><i style="margin-right:5px;"
                    class="f7-icons">xmark_rectangle_fill</i></p>
              </div>
            </div>
          </div>
          <div class="page-content">
            <div class="card card-outline margin-top bg-dark-gray-medium">
              <div class="card-content">
                <div class="row">
                  <div class="col-100">
                    <div class="card" id="item_detail_gambar">

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Popup Approval Penerimaan -->
    <div class="popup popup-approval-penerimaan">
      <div class="view">
        <div class="page">
          <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner bg-dark-gray-medium">
              <div class="title">Detail Terima</div>
              <div class="right">
                <a class="link popup-close" data-popup=".popup-approval-penerimaan">
                  <i class="f7-icons" style="margin-right:5px; color: #fff;">xmark_rectangle_fill</i>
                </a>
              </div>
            </div>
          </div>

          <div class="page-content">
            <div class="card card-outline margin-top">
              <div class="card-content">
                <div class="row">
                  <div class="col-100">
                    <div class="card">

                      <!-- Header Information -->
                      <div class="information-card-header col-100" style="margin-bottom: 8px; padding: 10px;">
                        <div class="spk-info">
                          <div id="approval_client_name"
                            style=" padding-bottom: 8px; margin-bottom: 8px;  border-bottom: 1px solid #1c1c1d;">
                            -</div>
                          <div id="approval_spk_code" style="font-weight: bold; font-size: 16px;">
                            -
                          </div>
                        </div>
                        <div class="partner-info">
                          <div id="approval_partner_name"
                            style="padding-bottom: 8px; margin-bottom: 8px;  border-bottom: 1px solid #1c1c1d;">
                            -</div>
                          <div id="approval_purchase_qty" style="font-weight: bold; font-size: 16px;">
                            0 pcs
                          </div>
                        </div>
                      </div>

                      <!-- Images Area - 2 Gambar Berjajar -->
                      <div class="col-100" id="approval_images_area" style="margin-bottom: 4px; display: none;">
                        <!-- Content will be populated by JavaScript -->
                      </div>

                      <!-- Description Info Area -->
                      <div class="col-100" id="approval_description_info" style="margin-bottom: 10px; display: none;">
                        <!-- Content will be populated by JavaScript -->
                      </div>

                      <!-- Detail Info Area -->
                      <div class="col-100" id="approval_detail_info" style="margin-bottom: 8px; display: none;">
                        <!-- Content will be populated by JavaScript -->
                      </div>

                      <!-- Materials Section -->
                      <div class="col-100" id="approval_materials_section" style="margin-bottom: 8px; display: none;">
                        <!-- Content will be populated by JavaScript -->
                      </div>

                      <!-- Summary Section -->
                      <div class="col-100" id="approval_summary_section" style="margin-bottom: 16px; display: none;">
                        <!-- Content will be populated by JavaScript -->
                      </div>

                      <!-- Empty State -->
                      <div class="col-100" id="approval_empty_state" style="margin-bottom: 20px; display: none;">
                        <div
                          style="border: 2px dashed #ddd; border-radius: 8px; padding: 40px; text-align: center; background-color: #fafafa;">
                          <i class="f7-icons" style="font-size: 64px; color: #ccc;">photo</i>
                          <p style="color: #999; margin-top: 10px; font-size: 14px;">Belum ada bukti penerimaan</p>
                        </div>
                      </div>

                      <!-- Action Buttons -->
                      <div class="col-100" style="margin-top: 20px;">
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                          <button class="button button-small btn-primary-theme" id="btn_approve_penerimaan"
                            onclick="approvePenerimaan()" style="flex: 1; min-width: 140px;">
                            <div class="display-flex justify-content-center align-items-center">
                              <i class="f7-icons" style="margin-right: 4px;">checkmark_circle_fill</i> ACC
                            </div>
                          </button>
                          <button class="button button-small btn-primary-theme" id="btn_cancel_approval"
                            onclick="closeApprovalPopup()"
                            style="flex: 1; min-width: 140px; background: #ef4444 !important; color: white;">
                            <div class="display-flex justify-content-center align-items-center">
                              <i class="f7-icons" style="margin-right: 4px;">xmark_circle</i> Cancel
                            </div>
                          </button>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup History Laporan -->
  <div class="popup popup-history-laporan">
    <div class="view">
      <div class="page">
        <div class="navbar">
          <div class="navbar-bg"></div>
          <div class="navbar-inner bg-dark-gray-medium">
            <div class="title">History Laporan</div>
            <div class="right">
              <a class="link popup-close" data-popup=".popup-history-laporan">
                <i class="f7-icons" style="margin-right:5px; color: #fff;">xmark_rectangle_fill</i>
              </a>
            </div>
          </div>
        </div>

        <div class="page-content">
          <div class="card card-outline margin-top">
            <div class="card-content">
              <div class="row">
                <div class="col-100">
                  <div class="card">
                    <!-- Header -->
                    <div class="col-100 bg-dark-gray-young" style="padding:10px; font-size:18px; font-weight:bold;">
                      <div class="display-flex justify-content-space-between align-items-center">
                        <div class="display-flex justify-content-start align-items-center"
                          style="font-size:20px; font-weight:bold; color:#1C1C1D;">
                          <span
                            style="border-right: 1px solid #1C1C1D; padding-right: 16px; margin-right: 16px;">Data</span>
                          <span id="jumlah_data_history">0</span>
                        </div>
                      </div>
                    </div>

                    <!-- Table Content -->
                    <div class="col-100" style="overflow-x: auto;">
                      <table cellspacing="1" cellpadding="1" width="100%">
                        <thead class="bg-dark-gray-medium text-align-center">
                          <tr>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;"
                              align="center">No</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Spk</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Partner</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Customer</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Item</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Jumlah</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Tanggal</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Deadline</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Selesai</th>
                            <th class="label-cell"
                              style="border-top: solid 1px; border-left: solid 1px;  border-color:gray; font-weight:bold;">
                              Aksi</th>
                          </tr>
                        </thead>
                        <tbody class="text-align-center" id="data_history_laporan">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>